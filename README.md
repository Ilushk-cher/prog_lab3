### Lab3 ITMO University

Но мы никогда не узнаем, что считал Пух, потому что в этот момент раздался всплеск, послышался писк Ру и громкий испуганный крик Кенги. Кристофер Робин и Пух кинулись на помощь. Все, как могли, старались ему помочь. Пятачок, совершенно проснувшийся, прыгал на месте и кричал: "Ой, ой!"; Сова объясняла, что в случае неожиданного погружения в воду самое важное-- это держать голову над поверхностью; Кенга огромными скачками неслась по берегу, не забывая спрашивать: "Ру, дорогой, ты действительно цел?"-- на что Ру отвечал: "Смотрите, как я плаваю! "; Иа сел возле запруды-- той самой, где Ру упал,-- и опустил в воду хвост. Повернувшись спиной ко всему происходящему, он приговаривал: "Все из-за этого мытья; но ты только держись за мой хвост, Ру, и все будет в порядке". А Кристофер Робин и Кролик носились взад и вперед, созывая всех остальных.

# Interfaces

## AbleToGo

Позволяет героям иметь скорость передвижения.
Имеет метод: setSpeed(int speed).

## AbleToHelp

Позволяет героям помогать другим с помощью метода help(Boolean b).

## AbleToImagine

Позволяет классу человека воображать с помощью методов
startImagine() и endImagine().

## AbleToJump

Позволяет героям прыгать конкретным образом с помощью
метода jump(TypeOfJump typeOfJump).

## AbleToMove

Позволяет героям перемещаться между локациями с помощью
метода moveTo(Place place).

## AbleToSpeak

Позволяет героям говорить и обмениваться фразами. Методы:
say(String message), catchMessage(Character Character, String message),
sendMessage(Character character, String message),
answerMessage(String message).

## AbleToSwim

Позволяет классу кенгуру плавать с помощью методов
startSwim() и endSwim().

## Countable

Позволяет считать с помощью метода countTo(int number).

## MovingContainer

Служит для возвращения параметров передвижения героев с помощью методов:
getSpeed(), getTypeOfGo(), getLocalPlace().

# Enums

## BodyPosition

Определяет положение тела героя.

## TailPosition

Определяет положение хвоста у животных.

## TypeOfGo

Определяет каким образом в данный момент передвигается герой.

## TypeOfJump

Определяет каким образом в данный момент прыгает герой.

## TypeOfSpeaking

Определяет каким образом герой говорит какое-либо сообщение.

# Abstracts

## Character

Абстрактный класс всех героев, задающий им базовые параметры и возможности.\
\
Включает в себя интерфейсы: AbleToSpeak, AbleToMove, AbleToHelp, AbleToGo, AbleToJump.\
\
В поле содержатся: информация о текущей локации, информация о положении тела,
имя, информация о текущем состоянии прыжков, информация о статусе помощи,
текущая скорость героя и информация о статусе передвижения.
Хранится информация о последнем переданном сообщении герою:
само сообщение, от кого получено. Также содержится информация о типе говорения героя.
\
\
Имеет два конструктора: в один передаются имя и локация,
а положение тела устанавливается по умолчанию на "стоит"; 
во втором дополнительно передается положение тела.\
\
Методы:  
getName() возвращает имя героя, 
moveTo(Place place) перемещает героя между локациями, 
getBodyPosition() и setBodyPosition(BodyPosition bodyPosition) 
возвращают и устанавливают положение тела героя соответственно,
jump(TypeOfJump typeOfJump) и getTypeOfJump задают и возвращают
информацию о текущем состоянии прыжков героя соответственно,
help(Boolean b) и getIsHelping() задают и возвращают
информацию о текущем состоянии помощи героя соответственно,
setSpeed(int speed) задает текущую скорость героя.
Метод getMovingContainer() c локальным классом
CharacterMovingContainer, реализующим интерфейс MovingContainer.
Методы из блока говорения:
say(String message) с дефолтным типом говорения и 
say(String message, TypeOfSpeaking typeOfSpeaking),
catchMessage, sendMessage и answerMessage. 
Переопределенные методы
toString(), equals(Object o) и hashCode().

## Animals

Абстрактный класс животных, наследующийся от 
абстрактного класса Character.\
\
В поле добавляется параметр положения хвоста.\
\
Добавляется еще один конструктор, в который можно передать 
информацию о положении хвоста.\
\
Методы: 
setTailPosition(TailPosition tailPosition) и getTailPosition()
задают и возвращают информацию о текущем положении хвоста.

# Classes

## Place

Служит для определения места. 
В поле содержит параметр имени. 
В конструкторе задается имя. 
Методы: getName(), whatPlace(), переопределенные методы
toString() и equals(Object o).

## Human

Класс человека, наследующийся от абстрактного класса Character.
Повторяет конструкторы родительского класса. В поле дополнительно
имеет параметр, определяющий в реальности или в воображении 
находится человек и тип говорения "созывание". Методы: startImagine() и endImagine() для
начала и завершения воображения, метод getWhatReal() возвращает
информацию о состоянии параметра whatReal, метод
say(String message).

## Donkey

Класс осла, наследующийся от абстрактного класса Animals.
Повторяет конструкторы родительского класса. Тип говорения
"приговаривание".
Содержит метод say(String message).

## Kangaroo

Класс кенгуру, наследующийся от абстрактного класса Animals.
Включает интерфейс AbleToSwim.
В поле содержит параметр, содержащий информацию о том, плавает
герой в текущий момент или нет.
Повторяет конструкторы родительского класса. 
Содержит реализованные методы startSwim() и endSwim(), 
а также метод getIsSwimming().

## Owl

Класс совы, наследующийся от абстрактного класса Animals.
Повторяет конструкторы родительского класса.
Тип говорения "объяснение".
Содержит метод say(String message).

## Pig

Класс свиньи, наследующийся от абстрактного класса Animals.
В поле содержит информацию о степени проснувшести героя.
Повторяет конструкторы родительского класса.
Содержит методы setState(State state) и getState() для
взаимодействия с параметром проснувшести, а также 
метод say(String message).

## Rabbit

Класс кролика, наследующийся от абстрактного класса Animals.
Повторяет конструкторы родительского класса.
Содержит метод say(String message).

## Bear

Класс медведя, наследующийся от абстрактного класса Animals.
Повторяет конструкторы родительского класса.
В поле содержит информацию о том, считает ли в данный момент герой.
Реализует интерфейс Countable методом countTo(int number).
Содержит метод getIsCount().

## MessageHistory

Класс для хранения истории сообщений с помощью статического динамического
массива, содержащего экземпляры сформированных сообщений.
Методы addNewMessage(Character whoSay, Character whoCatch,
String message, TypeOfSpeaking typeOfSpeaking) и тот же 
перегруженный без whoCatch вызывают создание сообщения и 
добавляют его в историю, getMakedMessage(int number) возвращает
сформированное сообщение с определенным номером, 
printMessageHistory() выводит на экран всю историю сообщений и 
printNumberedMessage(int number) выводит на экран конкретное сообщение.

# Вложенные классы

## WhatReal

Вложенный нестатический Enum класс в класс Human.
Содержит информацию о том, в реальности или нет сейчас человек.

## State

Вложенный нестатический Enum класс в класс Pig.
Содержит информацию о проснувшести свиньи.

## MakedMessage

Вложенный статический класс сформированных сообщений в класс MessageHistory.
В поле содержит константы whoSay, whoCatch, message, typeOfSpeaking
задающие информацию о говорящем, принимающем, сообщении и
типе говорения соответственно.
Приватный конструктор экземпляра, принимающий на вход все параметры,
необходимые в определения констант поля.
Метод makeMessage(Character whoSay, Character whoCatch,
String message, TypeOfSpeaking typeOfSpeaking) вызывает конструктор.
Есть геттеры для параметров поля и переопределенные методы
toString, equals, hashCode.

## Анонимный класс

Вложенный анонимный класс для счета медведя.
Через лямбду передается номер, до которого нужно считать.

## CharacterMovingContainer

Локальный вложенный класс в абстрактный класс Character.
Служит для получения параметров о текущем состоянии скорости,
типе передвижения и текущей локации. Содержит геттеры и 
переопределенный метод toString().

# Exceptions

## MessageYourself

Класс непроверяемого исключения, наследующийся от RuntimeException.
Пробрасывается при попытке отправить сообщение самому себе.

## NegativeSpeed

Класс непроверяемого исключения, наследующийся от RuntimeException.
Пробрасывается при попытке присвоить герою отрицательную скорость.

## Несуществование сообщения

Обрабатывается в try-catch при получении какого-то сообщения
под определенным номером. И если такового еще в массиве не имеется,
то ловится IndexOutOfBoundsExceptions, выводится сообщение 
и возвращается последнее полученное сообщение из истории.